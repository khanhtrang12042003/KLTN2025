@{
    ViewData["Title"] = "Quản lý lớp học";
    Layout = "_Layout";
}

<div class="container py-5">
    <!-- Header -->
    <section class="text-center mb-5">
        <h2 class="fw-bold text-primary mb-2">Quản lý lớp học</h2>
        <p class="text-muted">Theo dõi trạng thái và thông tin các lớp bạn đã đăng ký</p>
    </section>

    <!-- Bộ lọc trạng thái -->
    <section class="d-flex justify-content-end mb-3">
        <div class="d-flex align-items-center gap-2">
            <label class="fw-semibold">Lọc trạng thái:</label>
            <select id="filterStatus" class="form-select form-select-sm w-auto">
                <option value="">Tất cả</option>
                <option value="dang-tuyen">Đang tuyển</option>
                <option value="cho-duyet">Chờ duyệt</option>
                <option value="dang-hoc">Đang học</option>
                <option value="hoan-thanh">Hoàn thành</option>
                <option value="tu-choi">Từ chối gia sư</option>
            </select>
        </div>
    </section>

    <!-- Bảng danh sách lớp học -->
    <div class="card border-0 shadow-sm rounded-4">
        <div class="card-body p-4">
            <table class="table table-hover align-middle">
                <thead class="table-light">
                    <tr>
                        <th>Mã lớp</th>
                        <th>Môn học</th>
                        <th>Gia sư</th>
                        <th>Lịch học</th>
                        <th>Học phí (VNĐ/buổi)</th>
                        <th>Trạng thái</th>
                        <th class="text-center">Thao tác</th>
                    </tr>
                </thead>
                <tbody id="tableLopHoc">
                    <!-- Lớp đang tuyển -->
                    <tr data-status="dang-tuyen">
                        <td>#LH001</td>
                        <td>Toán 9</td>
                        <td><span class="text-muted fst-italic">Chưa gán</span></td>
                        <td>Thứ 2, 4, 6 (18h - 20h)</td>
                        <td>200.000</td>
                        <td><span class="badge bg-warning text-dark">Đang tuyển</span></td>
                        <td class="text-center">
                            <a href="#" class="btn btn-sm btn-outline-secondary rounded-4 px-3 disabled">Chờ trung tâm</a>
                        </td>
                    </tr>

                    <!-- Lớp chờ duyệt gia sư -->
                    <tr data-status="cho-duyet">
                        <td>#LH002</td>
                        <td>Tiếng Anh 7</td>
                        <td>Trần Thị B</td>
                        <td>Thứ 3, 5, 7 (19h - 21h)</td>
                        <td>250.000</td>
                        <td><span class="badge bg-info text-dark">Chờ duyệt</span></td>
                        <td class="text-center">
                            <a href="/PhuHuynh/ChiTietGiaSu" class="btn btn-sm btn-primary rounded-4 px-3">Xem & Duyệt</a>
                        </td>
                    </tr>

                    <!-- Lớp đang học -->
                    <tr data-status="dang-hoc">
                        <td>#LH003</td>
                        <td>Hóa 10</td>
                        <td>Nguyễn Văn C</td>
                        <td>Thứ 2, 4, 6 (18h - 20h)</td>
                        <td>220.000</td>
                        <td><span class="badge bg-success">Đang học</span></td>
                        <td class="text-center">
                            <a href="#" class="btn btn-sm btn-outline-primary rounded-4 px-3 disabled">Đang học</a>
                        </td>
                    </tr>

                    <!-- Lớp đã hoàn thành -->
                    <tr data-status="hoan-thanh">
                        <td>#LH004</td>
                        <td>Vật lý 8</td>
                        <td>Phạm Minh D</td>
                        <td>Thứ 7, CN (14h - 16h)</td>
                        <td>230.000</td>
                        <td><span class="badge bg-secondary">Hoàn thành</span></td>
                        <td class="text-center">
                            <a href="/PhuHuynh/DanhGiaGiaSu" class="btn btn-sm btn-outline-success rounded-4 px-3">Đánh giá</a>
                        </td>
                    </tr>

                    <!-- Lớp từ chối gia sư -->
                    <tr data-status="tu-choi">
                        <td>#LH005</td>
                        <td>Ngữ văn 9</td>
                        <td>Lê Thị H</td>
                        <td>Thứ 3, 5 (18h - 20h)</td>
                        <td>180.000</td>
                        <td><span class="badge bg-danger">Từ chối gia sư</span></td>
                        <td class="text-center">
                            <a href="#" class="btn btn-sm btn-outline-secondary rounded-4 px-3 disabled">Đã từ chối</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        document.getElementById("filterStatus").addEventListener("change", function() {
            const selected = this.value;
            const rows = document.querySelectorAll("#tableLopHoc tr");

            rows.forEach(row => {
                if (!selected || row.dataset.status === selected) {
                    row.style.display = "";
                } else {
                    row.style.display = "none";
                }
            });
        });
    </script>
}
